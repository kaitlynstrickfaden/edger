"MotionSensitivity", "UserLabel",
"SceneCaptureType"))
metavals <- str_c("-", colnames(meta), "=", meta[1,])
for (i in seq_along(metavals)) {
exif_call("-n", "-j", "-q", metavals[i], path = edger_name(imagepath))
}
do.call("exif_call", list(args))
round(Sys.time() - st, 2)
}
im1 <- "C://Users/stri7929/Desktop/04553Copy.jpg"
edger_single(im1, th = 0.03, save = T)
edger_meta(im1)
library(tidyverse)
edger_meta(im1)
library(exiftoolr)
edger_meta(im1)
meta <- exiftoolr::exif_read(im1,
tags = c("FileName","FileTypeExtension", "ImageSize",
"Make", "Model", "DateTimeOriginal", "TimeZoneOffset",
"TriggerMode", "Sequence", "EventNumber", "DayofWeek", "MoonPhase",
"AmbientTemperature", "AmbientTemperatureFahrenheit",
"MotionSensitivity", "UserLabel",
"SceneCaptureType"))
meta
metavals <- str_c("-", colnames(meta), "=", meta[1,])
metavals
for (i in seq_along(metavals)) {
exif_call("-n", "-j", "-q", metavals[i], path = edger_name(imagepath))
}
for (i in seq_along(metavals)) {
exif_call("-n", "-j", "-q", metavals[i], path = edger_name(im1))
}
edger_single(im1, th = 0.03, save = T)
edger_meta <- function(imagepath, tags)
{
# Check if file paths are valid
if (file.exists(imagepath) == FALSE) {
stop(str_glue("imagepath is not a valid path.", sep = "")) }
st <- Sys.time()
meta <- exiftoolr::exif_read(imagepath,
tags = c("FileName","FileTypeExtension", "ImageSize",
"Make", "Model", "DateTimeOriginal", "TimeZoneOffset",
"TriggerMode", "Sequence", "EventNumber", "DayofWeek", "MoonPhase",
"AmbientTemperature", "AmbientTemperatureFahrenheit",
"MotionSensitivity", "UserLabel",
"SceneCaptureType"))
metavals <- str_c("-", colnames(meta), "=", meta[1,])
for (i in seq_along(metavals)) {
exif_call("-n", "-j", "-q", metavals[i], path = edger_name(imagepath))
}
round(Sys.time() - st, 2)
}
edger_meta(im1)
edger_meta <- function(imagepath, tags)
{
# Check if file paths are valid
if (file.exists(imagepath) == FALSE) {
stop(str_glue("imagepath is not a valid path.", sep = "")) }
st <- Sys.time()
meta <- exiftoolr::exif_read(imagepath,
tags = c("FileName","FileTypeExtension", "ImageSize",
"Make", "Model", "DateTimeOriginal", "TimeZoneOffset",
"TriggerMode", "Sequence", "EventNumber", "DayofWeek", "MoonPhase",
"AmbientTemperature", "AmbientTemperatureFahrenheit",
"MotionSensitivity", "UserLabel",
"SceneCaptureType"))
metavals <- str_c("-", colnames(meta), "=", meta[1,])
lapply(metavals, function(m) {exif_call("-n", "-j", "-q", m, path = edger_name(imagepath))})
round(Sys.time() - st, 2)
}
edger_single(im1, th = 0.03, save = T)
edger_meta <- function(imagepath, tags)
{
# Check if file paths are valid
if (file.exists(imagepath) == FALSE) {
stop(str_glue("imagepath is not a valid path.", sep = "")) }
st <- Sys.time()
meta <- exiftoolr::exif_read(imagepath,
tags = c("FileName","FileTypeExtension", "ImageSize",
"Make", "Model", "DateTimeOriginal", "TimeZoneOffset",
"TriggerMode", "Sequence", "EventNumber", "DayofWeek", "MoonPhase",
"AmbientTemperature", "AmbientTemperatureFahrenheit",
"MotionSensitivity", "UserLabel",
"SceneCaptureType"))
metavals <- str_c("-", colnames(meta), "=", meta[1,])
lapply(metavals, function(m) {exif_call("-n", "-j", "-q", m, path = edger_name(imagepath))})
round(Sys.time() - st, 2)
}
edger_meta(im1)
exif_read(edger_name(im1))
exif_read(im1)
edger_meta <- function(imagepath, tags)
{
# Check if file paths are valid
if (file.exists(imagepath) == FALSE) {
stop(str_glue("imagepath is not a valid path.", sep = "")) }
st <- Sys.time()
meta <- exiftoolr::exif_read(imagepath,
tags = c("FileName","FileTypeExtension", "ImageSize",
"Make", "Model", "DateTimeOriginal", "TimeZoneOffset",
"TriggerMode", "Sequence", "EventNumber", "DayofWeek", "MoonPhase",
"AmbientTemperature", "AmbientTemperatureFahrenheit",
"MotionSensitivity", "UserLabel",
"SceneCaptureType"))
metavals <- str_c("-", colnames(meta), "=", meta[1,])
sapply(metavals, function(m) {exif_call("-n", "-j", "-q", m, path = edger_name(imagepath))})
round(Sys.time() - st, 2)
}
edger_meta(im1)
exif_read(edger_name(im1))
install.packages("exifr")
library(exifr)
?exifr::configure_exiftool()
exiftoolr::exif_version()
exifr::configure_exiftool("C:/Users/stri7929/Documents/R/R-4.1.2/library/exiftoolr/exiftool/win_exe/exiftool.pl", perl_path = "C:/Users/stri7929/Documents/R/R-4.1.0/library/gdata/perl")
exifr::configure_exiftool("C:/Users/stri7929/Documents/R/R-4.1.2/library/exiftoolr/exiftool/win_exe/exiftool(-k).pl", perl_path = "C:/Users/stri7929/Documents/R/R-4.1.0/library/gdata/perl")
exifr::configure_exiftool("C:/Users/stri7929/Documents/R/R-4.1.2/library/exiftoolr/exiftool/win_exe/exiftool(-k).exe", perl_path = "C:/Users/stri7929/Documents/R/R-4.1.0/library/gdata/perl")
library(exifr)
exifr::read_exif(im1)
edger_meta <- function(imagepath, tags)
{
# Check if file paths are valid
if (file.exists(imagepath) == FALSE) {
stop(str_glue("imagepath is not a valid path.", sep = "")) }
st <- Sys.time()
meta <- read_exif(imagepath,
tags = c("FileName","FileTypeExtension", "ImageSize",
"Make", "Model", "DateTimeOriginal", "TimeZoneOffset",
"TriggerMode", "Sequence", "EventNumber", "DayofWeek", "MoonPhase",
"AmbientTemperature", "AmbientTemperatureFahrenheit",
"MotionSensitivity", "UserLabel",
"SceneCaptureType"))
metavals <- str_c("-", colnames(meta), "=", meta[1,])
exiftool_call(args =  c("-n", "-j", "-q", metavals), fnames = edger_name(imagepath))
round(Sys.time() - st, 2)
}
edger_meta(im1)
meta <- read_exif(im1,
tags = c("FileName","FileTypeExtension", "ImageSize",
"Make", "Model", "DateTimeOriginal", "TimeZoneOffset",
"TriggerMode", "Sequence", "EventNumber", "DayofWeek", "MoonPhase",
"AmbientTemperature", "AmbientTemperatureFahrenheit",
"MotionSensitivity", "UserLabel",
"SceneCaptureType"))
meta
edger_meta <- function(imagepath, tags)
{
# Check if file paths are valid
if (file.exists(imagepath) == FALSE) {
stop(str_glue("imagepath is not a valid path.", sep = "")) }
st <- Sys.time()
meta <- read_exif(imagepath,
tags = c("FileName","FileTypeExtension", "ImageSize",
"Make", "Model", "DateTimeOriginal", "TimeZoneOffset",
"TriggerMode", "Sequence", "EventNumber", "DayofWeek", "MoonPhase",
"AmbientTemperature", "AmbientTemperatureFahrenheit",
"MotionSensitivity", "UserLabel",
"SceneCaptureType"))
metavals <- str_c("-", colnames(meta), "=", meta[1,])
exiftool_call(args =  c("-n", "-j", "-q", metavals[-c(1:3)]), fnames = edger_name(imagepath))
round(Sys.time() - st, 2)
}
edger_meta(im1)
read_exif(edger_name(im1))
meta1 <- read_exif(edger_name(im1))
meta1
data.frame(meta1)
edger_meta <- function(imagepath, tags)
{
# Check if file paths are valid
if (file.exists(imagepath) == FALSE) {
stop(str_glue("imagepath is not a valid path.", sep = "")) }
st <- Sys.time()
meta <- read_exif(imagepath)
metavals <- str_c("-", colnames(meta), "=", meta[1,])
exiftool_call(args =  c("-n", "-j", "-q", metavals[-c(1:3)]), fnames = edger_name(imagepath))
round(Sys.time() - st, 2)
}
edger_meta(im1)
meta1 <- read_exif(edger_name(im1))
data.frame(meta1)
cbind(meta, meta1)
meta <- read_exif(im1)
cbind(meta, meta1)
meta1
cbind(meta[1,], meta1[1,])
left_join(meta[1,], meta1[1,])
full_join(meta[1,], meta1[1,])
data.frame(full_join(meta[1,], meta1[1,]))
metavals
edger_meta <- function(imagepath, tags)
{
# Check if file paths are valid
if (file.exists(imagepath) == FALSE) {
stop(str_glue("imagepath is not a valid path.", sep = "")) }
st <- Sys.time()
meta <- read_exif(imagepath)
metavals <- str_c("-", colnames(meta), "=", as.character(meta[1,]))
metavals <- str_replace(metavals, " ", "_")
exiftool_call(args =  c("-n", "-j", "-q", metavals[-c(1:3)]), fnames = edger_name(imagepath))
round(Sys.time() - st, 2)
}
edger_meta <- function(imagepath, tags)
{
# Check if file paths are valid
if (file.exists(imagepath) == FALSE) {
stop(str_glue("imagepath is not a valid path.", sep = "")) }
st <- Sys.time()
meta <- read_exif(imagepath)
metavals <- str_c("-", colnames(meta), "=", as.character(meta[1,]))
#metavals <- str_replace(metavals, " ", "_")
exiftool_call(args =  c("-n", "-j", "-q", metavals[-c(1:3)]), fnames = edger_name(imagepath))
round(Sys.time() - st, 2)
}
edger_meta(im1)
meta1 <- read_exif(edger_name(im1))
data.frame(full_join(meta[1,], meta1[1,]))
str(meta1)
metavals <- str_replace(metavals, " ", "_")
metavals
edger_meta <- function(imagepath, tags)
{
# Check if file paths are valid
if (file.exists(imagepath) == FALSE) {
stop(str_glue("imagepath is not a valid path.", sep = "")) }
st <- Sys.time()
meta <- read_exif(imagepath)
metavals <- str_c("-", colnames(meta), "=", meta[1,])
metavals <- str_replace_all(metavals, " ", "_")
exiftool_call(args =  c("-n", "-j", "-q", metavals[-c(1:3)]), fnames = edger_name(imagepath))
round(Sys.time() - st, 2)
}
edger_meta(im1)
meta1 <- read_exif(edger_name(im1))
data.frame(full_join(meta[1,], meta1[1,]))
edger_meta <- function(imagepath, tags)
{
# Check if file paths are valid
if (file.exists(imagepath) == FALSE) {
stop(str_glue("imagepath is not a valid path.", sep = "")) }
st <- Sys.time()
meta <- read_exif(imagepath)
metavals <- str_c("-", colnames(meta), "=", meta[1,])
exiftool_call(args =  c("-n", "-j", "-q", metavals[-c(1:3)]), fnames = edger_name(imagepath))
round(Sys.time() - st, 2)
}
edger_meta <- function(imagepath, tags)
{
# Check if file paths are valid
if (file.exists(imagepath) == FALSE) {
stop(str_glue("imagepath is not a valid path.", sep = "")) }
st <- Sys.time()
meta <- read_exif(imagepath)
metavals <- str_c("-", colnames(meta), "=", meta[1,])
exiftool_call(args =  c("-n", "-j", "-q", metavals[-c(1:3)]),
fnames = edger_name(imagepath), quiet = F)
round(Sys.time() - st, 2)
}
edger_meta(im1)
meta1 <- read_exif(edger_name(im1))
data.frame(full_join(meta[1,], meta1[1,]))
metavals
edger_single(im1, th = 0.03, save = T)
read_exif(edger_name(im1))
data.frame(read_exif(edger_name(im1)))
edger_meta <- function(imagepath, tags)
{
# Check if file paths are valid
if (file.exists(imagepath) == FALSE) {
stop(str_glue("imagepath is not a valid path.", sep = "")) }
st <- Sys.time()
meta <- read_exif(imagepath)
metavals <- str_c("-", colnames(meta), "=", meta[1,])
if ("DateTimeOriginal" %in% colnames(meta)) {
meta$DateTimeOriginal <- str_replace_all(meta$DateTimeOriginal, " ", "_")
}
if ("CreateDate" %in% colnames(meta)) {
meta$CreateDate <- str_replace_all(meta$CreateDate, " ", "_")
}
exiftool_call(args =  c("-n", "-j", "-q", metavals[-c(1:3)]),
fnames = edger_name(imagepath), quiet = F)
round(Sys.time() - st, 2)
}
edger_meta(im1)
data.frame(read_exif(edger_name(im1)))
edger_meta <- function(imagepath, tags)
{
# Check if file paths are valid
if (file.exists(imagepath) == FALSE) {
stop(str_glue("imagepath is not a valid path.", sep = "")) }
st <- Sys.time()
meta <- read_exif(imagepath)
if ("DateTimeOriginal" %in% colnames(metavals)) {
meta$DateTimeOriginal <- str_replace_all(meta$DateTimeOriginal, " ", "_")
}
if ("CreateDate" %in% colnames(meta)) {
meta$CreateDate <- str_replace_all(meta$CreateDate, " ", "_")
}
metavals <- str_c("-", colnames(meta), "=", meta[1,])
exiftool_call(args =  c("-n", "-j", "-q", metavals[-c(1:3)]),
fnames = edger_name(imagepath), quiet = F)
round(Sys.time() - st, 2)
}
edger_meta(im1)
data.frame(read_exif(edger_name(im1)))
edger_meta <- function(imagepath, tags)
{
# Check if file paths are valid
if (file.exists(imagepath) == FALSE) {
stop(str_glue("imagepath is not a valid path.", sep = "")) }
st <- Sys.time()
meta <- read_exif(imagepath)
if ("DateTimeOriginal" %in% colnames(meta)) {
meta$DateTimeOriginal <- str_replace_all(meta$DateTimeOriginal, " ", "_")
}
if ("CreateDate" %in% colnames(meta)) {
meta$CreateDate <- str_replace_all(meta$CreateDate, " ", "_")
}
metavals <- str_c("-", colnames(meta), "=", meta[1,])
exiftool_call(args =  c("-n", "-j", "-q", metavals[-c(1:3)]),
fnames = edger_name(imagepath), quiet = F)
round(Sys.time() - st, 2)
}
edger_meta(im1)
data.frame(read_exif(edger_name(im1)))
edger_meta <- function(imagepaths, tags)
{
st <- Sys.time()
for (i in seq_along(imagepaths)) {
# Check if file paths are valid
if (file.exists(imagepaths[i]) == FALSE) {
stop(str_glue("{imagepaths[i]} is not a valid path.", sep = "")) }
meta <- read_exif(imagepaths[i])
if ("DateTimeOriginal" %in% colnames(meta)) {
meta$DateTimeOriginal <- str_replace_all(meta$DateTimeOriginal, " ", "_")
}
if ("CreateDate" %in% colnames(meta)) {
meta$CreateDate <- str_replace_all(meta$CreateDate, " ", "_")
}
metavals <- str_c("-", colnames(meta), "=", meta[1,])
exiftool_call(args =  c("-n", "-j", "-q", metavals[-c(1:3)]),
fnames = edger_name(imagepaths[i]), quiet = F)
}
round(Sys.time() - st, 2)
}
fp <- "C://Users/stri7929/Documents/test"
list.files(fp)
f <- list.files(fp)
edger_meta(str_c(fp, f, sep = "/"))
library(tidyverse)
library(exiftoolr)
edger_meta(str_c(fp, f, sep = "/"))
edger_meta <- function(imagepaths, tags)
{
st <- Sys.time()
for (i in seq_along(imagepaths)) {
# Check if file paths are valid
if (file.exists(imagepaths[i]) == FALSE) {
stop(str_glue("{imagepaths[i]} is not a valid path.", sep = "")) }
meta <- exif_read(imagepaths[i])
if ("DateTimeOriginal" %in% colnames(meta)) {
meta$DateTimeOriginal <- str_replace_all(meta$DateTimeOriginal, " ", "_")
}
if ("CreateDate" %in% colnames(meta)) {
meta$CreateDate <- str_replace_all(meta$CreateDate, " ", "_")
}
metavals <- str_c("-", colnames(meta), "=", meta[1,])
exif_call(args =  c("-n", "-j", "-q", metavals[-c(1:3)]),
fnames = edger_name(imagepaths[i]), quiet = F)
}
round(Sys.time() - st, 2)
}
edger_meta(str_c(fp, f, sep = "/"))
fp <- "C://Users/stri7929/Documents/test"
f <- list.files(fp)
edger_meta(str_c(fp, f, sep = "/"))
exif_read(str_c(fp, f[2], sep = "\"))
)
edger_meta(str_c(fp, f[c(1,3)], sep = "/"))
exif_read(str_c(fp, f[2], sep = "\"))
str_c(fp, f[2], sep = "\")
str_c(fp, f[2], sep = "/")
exif_read(str_c(fp, f[2], sep = "/"))
library(edger)
library(dplyr)
library(imager)
library(progressr)
library(qpdf)
library(stringr)
knitr::opts_chunk$set(
fig.width = 8,
fig.height = 6,
collapse = TRUE,
comment = "#>"
)
library(edger)
library(dplyr)
library(imager)
library(progressr)
library(qpdf)
library(stringr)
im1 <- "../images/image03.jpg"
par(mar = c(0,0,0,0))
plot(imager::load.image(im1), axes = F)
edger::edger_single(im1)
roi1 <- data.frame(x1 = 894, y1 = 538, x2 = 974, y2 = 1219)
edger_single(im1, roi_in = list(roi1))
edger_single(im1, roi_in = list(roi1), th = 0.07, color = "cyan1")
rect(roi1[,1], roi1[,2], roi1[,3], roi1[,4], lwd = 2)
text(x = roi1[,1] - 100, roi1[,2] - 40, labels = str_glue("({roi1[,1]}, {roi1[,2]})"))
text(x = roi1[,3] + 120, roi1[,4] + 40, labels = str_glue("({roi1[,3]}, {roi1[,4]})"))
roi2 <- data.frame(x1 = 457, y1 = 501, x2 = 526, y2 = 1105)
edger::edger_single(im1, roi_in = list(rbind(roi1, roi2)), regions = 2, color = "purple")
edger::edger_multi(c(im1, im2), roi_in = list(roi1),
shift = c(200, -200), rotate = 30, color = "yellow")
im2 <- "../images/image04.jpg"
im3 <- "../images/image05.jpg"
edger::edger_multi(c(im1, im2), roi_in = list(roi1),
shift = c(200, -200), rotate = 30, color = "yellow")
roi1 <- data.frame(x1 = 894, y1 = 538, x2 = 974, y2 = 1219)
roi2 <- data.frame(x1 = 457, y1 = 501, x2 = 526, y2 = 1105)
roi3 <- data.frame(x1 = 633, y1 = 638, x2 = 874, y2 = 799)
edger::edger_multi(c(im1, im2), th = c(.1,.05),
ref_images = 2, regions = 2,
roi_in = list(rbind(roi1, roi2),
roi3),
color = "deeppink1")
library(rmarkdown)
library(devtools)
rmarkdown::render("edger_use.Rmd", output_format = "github_document")
rmarkdown::render("vignettes/edger_use.Rmd", output_format = "github_document")
document()
ro <- c()
rm(list = c("edger_meta"))
document()
document()
document()
check()
?exif_read
?exif_call
edger_meta <- function(imagepaths, tags)
{
st <- Sys.time()
for (i in seq_along(imagepaths)) {
# Check if file paths are valid
if (file.exists(imagepaths[i]) == FALSE) {
stop(str_glue("{imagepaths[i]} is not a valid path.", sep = "")) }
meta <- exif_read(imagepaths[i])
if ("DateTimeOriginal" %in% colnames(meta)) {
meta$DateTimeOriginal <- str_replace_all(meta$DateTimeOriginal, " ", "_")
}
if ("CreateDate" %in% colnames(meta)) {
meta$CreateDate <- str_replace_all(meta$CreateDate, " ", "_")
}
metavals <- str_c("-", colnames(meta), "=", meta[1,], sep = "")
exif_call(args =  c("-n", "-j", "-q", metavals[-c(1:3)]),
path = edger_name(imagepaths[i]), quiet = F)
}
round(Sys.time() - st, 2)
}
edger_meta(str_c(fp, f[c(1,3)], sep = "/"))
exif_read(str_c(fp, f[2], sep = "/"))
document()
edger_meta <- function(imagepaths, tags)
{
st <- Sys.time()
for (i in seq_along(imagepaths)) {
# Check if file paths are valid
if (file.exists(imagepaths[i]) == FALSE) {
stop(str_glue("{imagepaths[i]} is not a valid path.", sep = "")) }
meta <- exif_read(imagepaths[i])
if ("DateTimeOriginal" %in% colnames(meta)) {
meta$DateTimeOriginal <- str_replace_all(meta$DateTimeOriginal, " ", "_")
}
if ("CreateDate" %in% colnames(meta)) {
meta$CreateDate <- str_replace_all(meta$CreateDate, " ", "_")
}
metavals <- str_c("-", colnames(meta), "=", meta[1,], sep = "")
exif_call(args =  c("-n", "-j", "-q", metavals[-c(1:3)]),
path = edger_name(imagepaths[i]), quiet = F)
}
round(Sys.time() - st, 2)
}
rm(list = c("edger_meta"))
document()
document()
check()
check()
document()
check()
check()
check()
devtools::install_github("kaitlynstrickfaden_edger")
devtools::install_github("kaitlynstrickfaden/edger")
library(edger)
remove.packages("rlang")
install.packages("rlangf")
install.packages("rlang")
install.packages("rlang")
devtools::install_github("kaitlynstrickfaden/edger")
library(edger)
edger::edger_meta()
edger::edger_multi()
?edger::edger_multi()
?edger::edger_meta()
setwd("C://Users/stri7929/Documents/test")
list.files()
edger_single("03768.JPG")
edger_multi(c("03768.JPG", "04553.JPG"))
edger_multi(c("03768.JPG", "04553.JPG"))
document()
devtools::document()
